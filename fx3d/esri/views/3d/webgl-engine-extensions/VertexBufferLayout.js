//>>built
define(["require","exports","esri/views/3d/webgl-engine/lib/Util"],function(n,p,m){function k(f){switch(f){case 5126:return 4;case 5120:case 5121:return 1;default:return 2}}var h=m.assert;return function(){function f(d,a,e){this.stride=0;this.attributes={};this.attrNames=d;this.attrSizes=a;this.attrTypes=e;this.init()}return f.prototype.init=function(){var d=this.attrNames.length;if(h(this.attrSizes.length===d),this.attrTypes)h(this.attrTypes.length===d);else{this.attrTypes=Array(this.attrNames.length);
for(var a=0;a<this.attrTypes.length;a++)this.attrTypes[a]=5126}for(a=0;a<d;a++){var e={offset:this.stride,size:this.attrSizes[a],type:this.attrTypes[a]};h(0===e.size*k(this.attrTypes[a])%4,"attribute byte length must be a multiple of 4");this.stride+=this.attrSizes[a]*k(this.attrTypes[a])/4;this.attributes[this.attrNames[a]]=e}},f.prototype.getStride=function(){return this.stride},f.prototype.getAttributes=function(){return this.attributes},f.prototype.hasAttribute=function(d){return d in this.attributes},
f.prototype.enableVertexAttribArrays=function(d,a){for(var e=0;e<this.attrNames.length;++e){var b=this.attrNames[e],c=this.attributes[b];b=a.getAttribLocation(b);if(-1<b)if(16===c.size)for(c=0;4>c;c++)d.enableVertexAttribArray(b+c);else d.enableVertexAttribArray(b)}},f.prototype.disableVertexAttribArrays=function(d,a){for(var e=0;e<this.attrNames.length;++e){var b=this.attrNames[e],c=this.attributes[b];b=a.getAttribLocation(b);if(-1<b)if(16===c.size)for(c=0;4>c;c++)d.disableVertexAttribArray(b+c);
else d.disableVertexAttribArray(b)}},f.prototype.setVertexAttribPointers=function(d,a){for(var e=0;e<this.attrNames.length;++e){var b=this.attrNames[e],c=this.attributes[b],g=c.size,l=4*c.offset;c=c.type;b=a.getAttribLocation(b);if(-1<b)if(16===g)for(g=0;4>g;g++)d.vertexAttribPointer(b+g,4,c,!1,4*this.stride,l+16*g);else d.vertexAttribPointer(b,g,c,!1,4*this.stride,l)}},f}()});