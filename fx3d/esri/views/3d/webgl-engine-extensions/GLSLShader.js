//>>built
define(["require","exports"],function(h,k){function g(c){var b=2;return c.replace(/\n/g,function(){var a;return a=b++,a=1E3>a?("  "+a).slice(-3):""+a,"\n"+a+":"})}return function(){function c(b,a,d,e){this.glName=void 0;this.defines=e;this.gl=d;this.type=b;this.source=a}return c.prototype.init=function(){void 0===this.glName&&(this.glName=this.gl.createShader(this.type),this.loadShader())},c.prototype.loadShader=function(){var b=this.source,a=this.defines,d=this.gl;if(void 0!==a){for(var e="",f=0;f<
a.length;f++)e+="#define "+a[f]+"\n";b=e+b}d.shaderSource(this.glName,b);d.compileShader(this.glName);d.getShaderParameter(this.glName,d.COMPILE_STATUS)||(console.error(d.getShaderInfoLog(this.glName)),console.error(g(b)))},c.prototype.changeDefines=function(b){return JSON.stringify(this.defines)!==JSON.stringify(b)&&(this.defines=b,void 0!==this.glName&&this.loadShader(),!0)},c.prototype.getGLName=function(){return this.init(),this.glName},c}()});